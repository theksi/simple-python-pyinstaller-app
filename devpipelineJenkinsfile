pipeline {
    agent none
    stages {
        stage('Build ServerLess') {
            agent any
            steps {
                println 'echo "Building serverless artifacts"'
            }
        }
        stage('Build Finops Base Assets') {
            agent any
            steps {
                Println 'echo "Building Finops base assets"'
            }
        }
        stage('BuildFinops Alarms') {
            matrix {
                agent any
                axes {
                    axis {
                        name 'Region'
                        values 'us-east-1', 'eu-west-1'
                    }
                }
                stages {
                    stage('BuildFinops Service-specific alerts') {
                        steps {
                            println "Building Finops assets on " + Region
                        }
                    }  
                }
            }      
        }     
        stage('BuildSecops') {
            matrix {
                agent any
                axes {
                    axis {
                        name 'Region'
                        values 'us-east-1', 'eu-west-1'
                    }
                }
                stages {
                    stage('Build secops base alerts') {
                        steps {
                            println "Building Secops assets in " + Region
                        }
                    }  
                }
            }  
}

    }
}
